objectMapping:
  name: m_200_MIDAS_INSTITUTION_VW_SAT_INSTITUTION
  extension:
    - AzP-DV:
        packageName: m_200_MIDAS_INSTITUTION_VW_SAT_INSTITUTION
  source:
    dataStore:
      connectionKey: HSTG
      connectionDescription: EDW History Staging Area
      connectionString: Provider=odbc,etc.
    dataObject:
      objectSchema: dbo
      objectName: HSTG_MIDAS_INSTITUTION_VW
  target:
    dataStore:
      connectionKey: INT
      connectionDescription: EDW Integration Area
      connectionString: Provider=odbc,etc.
    dataObject:
      objectSchema: dbo
      objectName: SAT_INSTITUTION
  mappings:
    - source:
        columnName: INSTITUTION_SK
        dataItemType: calculation
        code: |
          CONVERT(CHAR(32), HASHBYTES('MD5',
                                  ISNULL(RTRIM(CONVERT(NVARCHAR(100), [INSTITUTION_ID])), 'NA') + '|'
                                  ), 2)
      target:
        columnName: INSTITUTION_SK
        dataItemType: column
    - source:
        columnName: OMD_EFFECTIVE_DATETIME
        dataItemType: column
      target:
        columnName: OMD_EFFECTIVE_DATETIME
        dataItemType: column
    - source:
        columnName: INSTITUTION_NAME
        dataItemType: column
      target:
        columnName: INSTITUTION_NAME
        dataItemType: column
    - source:
        columnName: RATING
        dataItemType: column
      target:
        columnName: RATING
        dataItemType: column
    - source:
        columnName: SEARCH_NAME
        dataItemType: column
      target:
        columnName: SEARCH_NAME
        dataItemType: column
    - source:
        columnName: STATUS
        dataItemType: column
      target:
        columnName: STATUS
        dataItemType: column
